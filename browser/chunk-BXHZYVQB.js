import{a as S}from"./chunk-IUTZEPZ4.js";import{j as O}from"./chunk-4BEZIMBZ.js";import{Aa as x,Da as b,Ka as h,La as k,Ma as y,Na as w,Oa as n,P as g,Pa as i,Qa as P,Ra as C,Sa as u,Ta as s,Ua as v,V as p,W as d,Ya as o,Za as _,_a as M,pa as f,ra as l}from"./chunk-OCS2N2NT.js";var T=(c,e)=>e.product.id;function $(c,e){if(c&1){let t=C();n(0,"li",2),P(1,"img",7),n(2,"div",8)(3,"h3"),o(4),i(),n(5,"p",9),o(6),i(),n(7,"div",10)(8,"button",11),u("click",function(){let r=p(t).$implicit,m=s(2);return d(m.decreaseQuantity(r.product.id))}),o(9,"\u2212"),i(),n(10,"span"),o(11),i(),n(12,"button",11),u("click",function(){let r=p(t).$implicit,m=s(2);return d(m.increaseQuantity(r.product.id))}),o(13,"+"),i()(),n(14,"button",12),u("click",function(){let r=p(t).$implicit,m=s(2);return d(m.removeFromCart(r.product.id))}),o(15,"Remove"),i()()()}if(c&2){let t=e.$implicit;l(),v("alt",t.product.name),h("src",t.product.image,f),l(3),_(t.product.name),l(2),_(t.product.price),l(5),_(t.quantity)}}function V(c,e){if(c&1){let t=C();n(0,"ul",1),y(1,$,16,5,"li",2,T),i(),n(3,"div",3)(4,"p"),o(5),i()(),n(6,"div",4)(7,"button",5),u("click",function(){p(t);let r=s();return d(r.clear())}),o(8,"Clear Cart"),i(),n(9,"button",6),u("click",function(){p(t);let r=s();return d(r.checkout())}),o(10,"Complete the request"),i()()}if(c&2){let t=s();l(),w(t.items()),l(4),M("Total: ",t.totalPrice," $")}}function q(c,e){c&1&&(n(0,"p"),o(1,"Your cart is empty."),i())}var E=class c{cart=g(S);items=this.cart.items;increaseQuantity(e){this.cart.increaseQuantity(e)}decreaseQuantity(e){this.cart.decreaseQuantity(e)}removeFromCart(e){this.cart.removeFromCart(e)}clear(){this.cart.clearCart()}get totalPrice(){return this.items().reduce((e,t)=>{let a=parseFloat(t.product.price.toString().replace(/[^\d.]/g,""));return e+a*t.quantity},0)}checkout(){if(window.confirm("You will be transferred to WhatsApp to complete the order, are you sure?")){let t=`Hello, I would like to complete this request:

`;this.items().forEach((r,m)=>{t+=`${m+1}- ${r.product.name}
`,t+=`   Quantity: ${r.quantity}
`,t+=`   the price: ${r.product.price}

`}),t+=`Total: $${this.totalPrice}
`,t+=`
Thank you`;let a=`https://wa.me/905383810703?text=${encodeURIComponent(t)}`;this.clear(),window.open(a,"_blank")}}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=x({type:c,selectors:[["app-cart"]],decls:5,vars:1,consts:[[1,"cart-page"],[1,"cart-list"],[1,"cart-item"],[1,"total"],[1,"actions"],[1,"clear-btn",3,"click"],[1,"checkout-btn",3,"click"],[3,"src","alt"],[1,"info"],[1,"price"],[1,"quantity-controls"],[3,"click"],[1,"remove-btn",3,"click"]],template:function(t,a){t&1&&(n(0,"div",0)(1,"h2"),o(2,"Your Shopping Cart"),i(),b(3,V,11,1)(4,q,2,0,"p"),i()),t&2&&(l(3),k(a.items().length>0?3:4))},dependencies:[O],styles:[".cart-page[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:auto;font-family:Segoe UI,sans-serif}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;font-size:2rem}.cart-list[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;flex-direction:column;gap:1.2rem}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff;border-radius:1rem;padding:1rem;box-shadow:0 2px 10px #00000012}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:.75rem;margin-right:1rem}.info[_ngcontent-%COMP%]{flex-grow:1}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.2rem}.price[_ngcontent-%COMP%]{color:#888;margin-bottom:.8rem}.quantity-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.8rem}.quantity-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#c6bfbf;border:none;border-radius:5px;width:32px;height:32px;font-size:1.2rem;cursor:pointer;transition:.2s}.quantity-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ccc}.quantity-controls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;min-width:24px;text-align:center}button[_ngcontent-%COMP%]{background-color:#68060e;color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:background-color .2s ease}button[_ngcontent-%COMP%]:hover{background-color:#68060e}.clear-btn[_ngcontent-%COMP%]{margin-top:1.5rem;display:block;margin-left:auto;background-color:#555}.clear-btn[_ngcontent-%COMP%]:hover{background-color:#333}.total[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:right;font-size:18px}"]})};export{E as CartComponent};
